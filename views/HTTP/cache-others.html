<!DOCTYPE html>
<html>
<head>
    <% include ../partials/head.html %>
</head>
<body class='container'>
    <% include ../partials/nav.html %>
    <% include ../partials/echo.ejs %>
    <hr>

    <div id = 'HTTP-4-1' class = 'col-md-6 caseModule' zendao-case = '2606'>
        <h4>HTTP-4-1<span class = 'caseID'></span>不保护的静态可缓存资源Font任意头不会被篡改</h4>
        <p>Describe: 访问保护后的被测场景，比对sphinx接收到的请求，该请求经过sphinx后发送给上游的请求，上游返回的响应，经过sphinx返回给客户端的响应。</p>
        <p>Expect: 需要与原站一致，保护后不改变原请求信息以及响应。</p>
        <i class = 'glyphicon glyphicon-random'></i>
        <i class = 'glyphicon glyphicon-briefcase'></i>
    </div>


    <!--2018/5/7-->
    <div id='HTTP-4-2' class='col-md-6 caseModule' zendao-case='2611'>
        <h4>HTTP-4-2<span class = 'caseID'></span>CDN缓存用户通过query标示不同版本的js</h4>
        <p>Describe: 用户html页面通过script src标签的qurey（version=1）引用版本1的js</p>
        <p>Expect: script src正确被加上D9PVtGL=xxxxx参数，返回的js内容正确被混淆</p>
        <form method='get' action="cache/http-4-2">
            <div class="form-group">
                <label for='Cache-Control'>Cache-Control</label>
                <input type='text' id='Cache-Control' name='Cache-Control' placeholder='s-maxage=60, max-age=9999'
                       value='public, max-age=0, s-maxage=60' class="form-control"/>
            </div>
            <div class="form-group">
                <label for='Cache-Control'>Expires</label>
                <input type='text' id='Expires' name='Expires' placeholder='Mon, 17 Apr 2028 07:46:32 GMT'
                       value='Mon, 17 Apr 2028 07:46:32 GMT'
                       class="form-control"/>
            </div>
            <input type='submit' value='HTTP-4-2' class='btn btn-success'/>
            <a href="cache/http-4-2-switch-version?version=1"><button type="button" class="btn btn-info">Switch to V1</button></a>
            <a href="cache/http-4-2-switch-version?version=2"><button type="button" class="btn btn-info">Switch to V2</button></a>
            Current Version: <span id="http-4-2-current-version" style="font-size: larger;color:#29ae17;font-weight: bold;"></span>
        </form>
    </div>

    <div id='HTTP-4-3' class='col-md-6 caseModule' zendao-case='2612'>
        <h4>HTTP-4-3<span class = 'caseID'></span>CDN缓存用户不以名字和query标志不同版本的js</h4>
        <p>Describe: 定制两个不同版本的客户js，方法名一样但是内部逻辑不一样，在html上调用其方法回显 </p>
        <p>Expect: script src正确被加上D9PVtGL=xxxxx参数，返回的期望的js，内容正确被混淆</p>
        <form method='get' action="cache/http-4-3">
            <div class="form-group">
                <label for='Cache-Control'>Cache-Control</label>
                <input type='text' id='Cache-Control' name='Cache-Control' placeholder='s-maxage=60, max-age=9999'
                       value='public, max-age=0, s-maxage=60' class="form-control"/>
            </div>
            <div class="form-group">
                <label for='Cache-Control'>Expires</label>
                <input type='text' id='Expires' name='Expires' placeholder='Mon, 17 Apr 2028 07:46:32 GMT'
                       value='Mon, 17 Apr 2028 07:46:32 GMT'
                       class="form-control"/>
            </div>
            <input type='submit' value='HTTP-4-3' class='btn btn-success'/>
            <a href="cache/http-4-3-switch-version?version=1"><button type="button" class="btn btn-info">Switch to V1</button></a>
            <a href="cache/http-4-3-switch-version?version=2"><button type="button" class="btn btn-info">Switch to V2</button></a>
            Current Version: <span id="http-4-3-current-version" style="font-size: larger;color:#29ae17;font-weight: bold;"></span>
        </form>
    </div>
    <!--2018/5/7-->

</body>
<script type="text/javascript" src="/HTTP/tSuite-4-cache-o.js"></script>
</html>